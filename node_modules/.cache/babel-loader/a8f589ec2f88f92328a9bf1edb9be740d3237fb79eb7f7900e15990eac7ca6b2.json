{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP NOTEBOOK\\\\myapp\\\\src\\\\Voiture.js\";\nimport React, { Component } from 'react';\nimport { Card, Form, Button, Col, Row } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusSquare, faSave, faUndo, faCar, faPalette, faCalendar, faDollarSign, faIdCard } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Voiture extends Component {\n  constructor(props) {\n    super(props);\n    // Méthode pour récupérer la voiture par ID\n    this.findVoitureById = voitureId => {\n      const basicAuth = 'Basic ' + btoa('admin:admin1234');\n      axios.get(`http://localhost:8090/voitures/${voitureId}`, {\n        headers: {\n          'Authorization': basicAuth,\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      }).then(response => {\n        if (response.data != null) {\n          this.setState({\n            id: response.data.id,\n            marque: response.data.marque,\n            modele: response.data.modele,\n            couleur: response.data.couleur,\n            immatricule: response.data.immatricule,\n            annee: response.data.annee,\n            prix: response.data.prix,\n            isEdit: true\n          });\n        }\n      }).catch(error => {\n        console.error(\"Erreur lors de la récupération de la voiture :\", error);\n      });\n    };\n    // Méthode pour soumettre les données du formulaire\n    this.submitVoiture = event => {\n      event.preventDefault();\n      const voiture = {\n        id: this.state.id,\n        marque: this.state.marque,\n        modele: this.state.modele,\n        couleur: this.state.couleur,\n        immatricule: this.state.immatricule,\n        annee: this.state.annee,\n        prix: this.state.prix\n      };\n      const basicAuth = 'Basic ' + btoa('admin:admin1234');\n      const url = voiture.id ? `http://localhost:8090/voitures/${voiture.id}` : 'http://localhost:8090/voitures';\n      const method = voiture.id ? 'put' : 'post';\n      axios({\n        method: method,\n        url: url,\n        data: voiture,\n        headers: {\n          'Authorization': basicAuth,\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      }).then(response => {\n        if (response.data != null) {\n          this.setState(this.initialState);\n          alert(voiture.id ? \"Voiture mise à jour avec succès !\" : \"Voiture ajoutée avec succès !\");\n          this.props.history.push('/list');\n        }\n      }).catch(error => {\n        console.error(\"Erreur lors de l'enregistrement de la voiture :\", error);\n      });\n    };\n    // Méthode pour gérer les changements dans les champs du formulaire\n    this.voitureChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.state = {\n      id: '',\n      marque: '',\n      modele: '',\n      couleur: '',\n      immatricule: '',\n      prix: '',\n      annee: '',\n      isEdit: false\n    };\n    this.voitureChange = this.voitureChange.bind(this);\n    this.submitVoiture = this.submitVoiture.bind(this);\n    this.resetVoiture = this.resetVoiture.bind(this);\n  }\n  componentDidMount() {\n    const voitureId = this.props.match.params.id;\n    if (voitureId) {\n      this.findVoitureById(voitureId);\n    }\n  }\n  render() {\n    const {\n      marque,\n      modele,\n      couleur,\n      immatricule,\n      prix,\n      annee,\n      isEdit\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"border border-dark bg-dark text-white\",\n      children: /*#__PURE__*/_jsxDEV(Card.Header, {\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faPlusSquare\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), \" \", isEdit ? \"Modifier une Voiture\" : \"Ajouter une Voiture\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","Card","Form","Button","Col","Row","FontAwesomeIcon","faPlusSquare","faSave","faUndo","faCar","faPalette","faCalendar","faDollarSign","faIdCard","axios","jsxDEV","_jsxDEV","Voiture","constructor","props","findVoitureById","voitureId","basicAuth","btoa","get","headers","withCredentials","then","response","data","setState","id","marque","modele","couleur","immatricule","annee","prix","isEdit","catch","error","console","submitVoiture","event","preventDefault","voiture","state","url","method","initialState","alert","history","push","voitureChange","target","name","value","bind","resetVoiture","componentDidMount","match","params","render","className","children","Header","icon","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/HP NOTEBOOK/myapp/src/Voiture.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Card, Form, Button, Col, Row } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlusSquare, faSave, faUndo, faCar, faPalette, faCalendar, faDollarSign, faIdCard } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\n\r\nexport default class Voiture extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      id: '',\r\n      marque: '',\r\n      modele: '',\r\n      couleur: '',\r\n      immatricule: '',\r\n      prix: '',\r\n      annee: '',\r\n      isEdit: false\r\n    };\r\n\r\n    this.voitureChange = this.voitureChange.bind(this);\r\n    this.submitVoiture = this.submitVoiture.bind(this);\r\n    this.resetVoiture = this.resetVoiture.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const voitureId = this.props.match.params.id;\r\n    if (voitureId) {\r\n      this.findVoitureById(voitureId);\r\n    }\r\n  }\r\n\r\n  // Méthode pour récupérer la voiture par ID\r\n  findVoitureById = (voitureId) => {\r\n    const basicAuth = 'Basic ' + btoa('admin:admin1234');\r\n\r\n    axios.get(`http://localhost:8090/voitures/${voitureId}`, {\r\n      headers: {\r\n        'Authorization': basicAuth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    })\r\n    .then(response => {\r\n      if (response.data != null) {\r\n        this.setState({\r\n          id: response.data.id,\r\n          marque: response.data.marque,\r\n          modele: response.data.modele,\r\n          couleur: response.data.couleur,\r\n          immatricule: response.data.immatricule,\r\n          annee: response.data.annee,\r\n          prix: response.data.prix,\r\n          isEdit: true\r\n        });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Erreur lors de la récupération de la voiture :\", error);\r\n    });\r\n  };\r\n\r\n  // Méthode pour soumettre les données du formulaire\r\n  submitVoiture = (event) => {\r\n    event.preventDefault();\r\n\r\n    const voiture = {\r\n      id: this.state.id,\r\n      marque: this.state.marque,\r\n      modele: this.state.modele,\r\n      couleur: this.state.couleur,\r\n      immatricule: this.state.immatricule,\r\n      annee: this.state.annee,\r\n      prix: this.state.prix\r\n    };\r\n\r\n    const basicAuth = 'Basic ' + btoa('admin:admin1234');\r\n    const url = voiture.id ? `http://localhost:8090/voitures/${voiture.id}` : 'http://localhost:8090/voitures';\r\n    const method = voiture.id ? 'put' : 'post';\r\n\r\n    axios({\r\n      method: method,\r\n      url: url,\r\n      data: voiture,\r\n      headers: {\r\n        'Authorization': basicAuth,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      withCredentials: true\r\n    })\r\n    .then(response => {\r\n      if (response.data != null) {\r\n        this.setState(this.initialState);\r\n        alert(voiture.id ? \"Voiture mise à jour avec succès !\" : \"Voiture ajoutée avec succès !\");\r\n        this.props.history.push('/list');\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Erreur lors de l'enregistrement de la voiture :\", error);\r\n    });\r\n  };\r\n\r\n  // Méthode pour gérer les changements dans les champs du formulaire\r\n  voitureChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { marque, modele, couleur, immatricule, prix, annee, isEdit } = this.state;\r\n\r\n    return (\r\n      <Card className=\"border border-dark bg-dark text-white\">\r\n        <Card.Header>\r\n          <FontAwesomeIcon icon={faPlusSquare} /> {isEdit ? \"Modifier une Voiture\" : \"Ajouter une Voiture\"}\r\n        </Card.Header>\r\n        {/* Formulaire */}\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}